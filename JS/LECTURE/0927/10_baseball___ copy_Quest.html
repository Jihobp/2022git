<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
 button {
            width: 30px;
            height: 30px;
            margin-left: 20px;
            font-size: 20px;
        }
        #answer,#submit,#cancle {
            width: 100px;
            height: 50px;
            font-size: 20px;
        }
        #input {
            position:fixed;
            top:50px;
            left:150px;
        }
        #time {
            position: fixed;
            top:50px;
            left:500px;
        }
    </style>
</head>
<body>
    <div style="height:60px;">
        <h1 id="output" style="margin-left:170px"></h1>
    </div>
    <div>
        <div style="margin-bottom:20px;">
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
        </div>
        <div style="margin-bottom:20px;">
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
            <button class="choiceValue"></button>
        </div>
    </div>
    <button id="cancle" style="margin-left:20px">ì·¨ì†Œ</button>
    <button id="submit"style="margin-left:20px">ì œì¶œ</button>
    <!-- div[style='height:60px'] -->
    <!-- í˜„ì¬ê¹Œì§€ ì œì¶œí•œ ìˆ«ìë‘, í˜„ì¬ ê²½ê³¼ì‹œê°„í‘œì‹œ -->
    <div style="height:60px">
        <h3 id="input" style="margin-left:170px"></h3>
        <h5 id="time"></h5>
    </div>

    <button id="answer">
        ì •ë‹µì€?
    </button>

    <script>
     //ì •ë‹µì„ ë¨¼ì € ìƒì„±í•´ì•¼ í•¨              
     let output='' //ì •ë‹µ           
        let array = []              // ë°°ì—´
        let input = 0               // ê°’
        do {
            input=Math.floor(Math.random()*10) //0~9
            //idx = ìœ„ì¹˜, ì¸ë±ìŠ¤ ê°’. input ê°’ì´ array  ì•ˆì—ì„œ ëª‡ë²ˆì§¸ì— ìˆëŠ”ì§€ ì°¾ëŠ”ë‹¹.
            //ì²«ë²ˆì§¸ëŠ” idx= 0, 0ì€ -1ì´ë‘ ë‹¤ë¥´ë‹ˆ push ê°’ì— ì•ˆë„£ëŠ”ë‹¤. 
            //ê·¸ë¦¬ê³  while 0.1.2ê°€ ì•„ë‹ë•Œ, array ê·¸ ì–´ë””ì—ë„ input ê°•ã…„ì´ ì—†ì„ë•Œ array ê°’ì— ê°’ì„ ë„£ì–´ì¤˜ì•¼í•œë‹¤.
            //ì—†ìœ¼ë©´ ë„£ê³  ìˆìœ¼ë©´ ì•ˆë„£ëŠ”ê±°. 
            const idx = array.indexOf(input)   //array ë°°ì—´ì•ˆì— inputì´ ì—†ìœ¼ë©´, idxì— -1ì„ ë„£ê³ , ë§Œì•½ array ë°°ì—´ì•ˆì— inputì´ ìˆìœ¼ë©´ ê°’ì´ ìˆëŠ” ìœ„ì¹˜ì— ì¸ë±ìŠ¤ë¥¼ ë°˜í™˜.
                                            //ã„´> ì™¸ìš°ê¹…. ì²´í¬í•œ ë°°ì—´ì— ë§¤ê°œë³€ìˆ˜ê°€ ìˆìœ¼ë©´, ê·¸ëƒ¥ indexOf í•¨ìˆ˜ëŠ” -1ì„ ë°˜í™˜í•œë‹¤. 
            if(idx==-1) {                      // array ì•ˆì— ê°’ì´ ì¤‘ë³µì´ ì•„ë‹ˆë¼ì„œ ê°’ì„ ë„£ëŠ”ë‹¤. 
                array.push(input)               //ë°°ì—´ì˜ ì œì¼ ëì— ë„£ì–´ì£¼ëŠ” ê²ƒ.
                output+=input                   //outputì— í•˜ë‚˜ì”© ê³„ì† ë‹¤í•´ì¤€ëŠ” ê²ƒ.
            }
        }while(array.length<3)                 //3ì´ë˜ë©´ ì¢…ë£Œ
        ///////////////// í”„ë¡œê·¸ë¨ ì‹œì‘ì‹œ ì •ë‹µ ìƒì„±í•˜ëŠ” ë¶€ë¶„


        //querySelector ëŠ” ë‹¤ ì ‘ê·¼ ê°€ëŠ¥í•œ ìµœì‹  ë¬¸ë²•, ì´ê±°ë§Œ ì¨ë„ ë¨.
        //getElementbyId idê°€ ìˆì–´ì•¼ í•˜ë‹ˆê¹Œ...... íƒœê·¸ idë¥¼ ì´ìš©í•˜ëŠ” ê±°ë‹ˆê¹Œ... 
        let cancle = document.querySelector('#cancle')    
        let submit = document.querySelector('#submit')
        //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //querySelector ë‘ getElement ì‹œë¦¬ì¦ˆ ëª¨ë‘ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤ !!!!!!!!!!!!!
        let h1output = document.getElementById('output')
        let h3input = document.getElementById('input')

        let answer = document.getElementById('answer')
        let time = document.getElementById('time')
        let count = 0           //ì„¸ì£¼ëŠ”ê±°
        let timecount = 0       //ì‹œê°„ì¹´ìš´íŠ¸

        //ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ«ì ì˜¬ë¼ê°€ê²Œ í•˜ê¸°
        let timeCountInterval =setInterval (  //í•¨ìˆ˜ê°€ ë§¤ê°œë³€ìˆ˜. //handler : í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œ ë‚˜ì˜¨ë‹¤
            function() {
                timecount++
                time.innerText = timecount //time.í…ìŠ¤íŠ¸ë¥¼ timecountë¡œ ë®ì–´ì¨ì„œ ì¶œë ¥í•œë‹¤. 
            }, 100                          // timeout ? <ë¬¼ìŒí‘œëŠ” ìˆì–´ë„ ë˜ê³  ìƒëµ ê°€ëŠ¥.  ì§€ì›Œë„ ì‹¤í–‰ì€ ë¨. => 0.1ì´ˆë§ˆë‹¤ ì‹¤í–‰í•œë‹¤. 
        )

        let buttons 
        = document.getElementsByClassName('choiceValue')    //class ì´ë¦„ì´ choicevalueì¸ê±¸ ëª¨ë‘ ê°€ì ¸ì™€ì„œ ìˆœì„œëŒ€ë¡œ ë°°ì—´ì— ì €ì¥í•œë‹¤. 
            //document.querySelectorAll('.choiceValue')    // ('.choiceValue ') .ì„ì“°ë©´ í´ë˜ìŠ¤ #ì€ ì•„ì´ë”” ê·¸ëƒ¥ ì“°ë©´ íƒœê·¸ë„¤ì„
        
        //ë²„íŠ¼ ìœ„ì˜ ê¸€ì ì ê¸°
        for(let i = 0; i<buttons.length; i++)
            buttons[i].textContent = i
        
        //ë²„íŠ¼ ëˆŒë €ì„ ë•Œ, ê¸€ì ë‚˜íƒ€ë‚˜ê²Œ í•˜ê¸°
        for(let i = 0; i<buttons.length; i++)
        {
            buttons[i].addEventListener('click',
            function(){
                //i ê°’ì´ ì´ ì•ˆì— ì´ë¯¸ ìˆë‹¤ë©´ ì‹¤í–‰ ì•ˆ í•¨
                //ğŸ‰if (true == false) => ê±°ì§“ =>  if ì‹¤í–‰ì„ ì•ˆí•¨ :  ì¤‘ë³µê°’ ë“¤ì–´ê°”ì„ ë•Œ
                //ğŸ‰if(false -- false) => ì°¸ -=> if ì‹¤í–‰ :  ì¤‘ë³µ ì•„ë‹Œ ê°’.
                //ğŸ‰if(!h1Output.innerHTML.includes(i)) ë‘ ê°™ì€ ì˜ë¯¸.  
                //ê°€ë…ì„±ì´ falseê°€ ë” ì¢‹ë‹¹.
                if(h1output.innerHTML.includes(i)==false)   //h1output. ì–´ë–¤ìˆ«ìë¥¼ ëˆ„ë¥´ëŠ”ì§€ ë³´ì—¬ì£¼ëŠ”ë°, includes(i) í¬í•¨í•˜ë©´ íŠ¸ë£¨, ==false ê°€ ëœë‹¤. ê±°ì§“ì´ë‹ˆ ifë¬¸ ì‹¤í–‰ì„ ì•ˆí•œë‹¤.  
                    //ğŸ‰i ê°€ ì—†ìœ¼ë©´ ì•„ë˜ë¥¼ ì‹¤í–‰. ì™œëƒë©´ falseë‘ ë¹„êµë¥¼ í•˜ë‹ˆê¹Œ.  include(i)
                    //ğŸ‰ê±°ì§“ì´ë‹ˆ ì´ ifë¬¸ì€ ì‹¤í–‰ì„ ì•ˆí•œë‹¤. 
                  {
                    //ê¸¸ì´ê°€ 3ì´ìƒì´ë©´ ì‹¤í–‰ ì•ˆ í•¨
                    if(h1output.innerHTML.length<3)
                        h1output.innerHTML+=i
                }
            })
        }

        //ì •ë‹µ ë§ì·„ê±°ë‚˜ ëê¹Œì§€ ëª» ë§ì¶°ì„œ
        //ìƒˆë¡œìš´ ë‹µì„ ë‚´ì•¼ í•˜ëŠ” ê²½ìš°
        function shuffleNewNumber() {
            //ë²„íŠ¼ë“¤ì— ì ìš©ëœ ìŠ¤íƒ€ì¼ë“¤ì„ í•´ì§€
            for(let i = 0; i<buttons.length; i++) 
            {
                //ìƒ‰ìƒ ì ìš©ëœ ê±° ì—†ì• ê¸°
                buttons[i].style.color=''
                //disabled : í´ë¦­ ëª»í•˜ê²Œ í•˜ëŠ” ì˜µì…˜
                //í´ë¦­ ëª»í•˜ê²Œ í•œ ê²Œ ìˆë‹¤ë©´ ê·¸ê±° ì—†ì• ê¸°
                //ì¦‰ ë²„íŠ¼ í´ë¦­ë˜ê²Œ í•˜ê¸°
                buttons[i].disabled = false         //trueë©´ ë¹„í™œì„±í™”, false ë©´ í™œì„±í™”.
            }

            //ì •ë‹µ ì´ˆê¸°í™” ê³¼ì •
            array=[]
            input=0
            output=''

            do {
                input=Math.floor(Math.random()*10)//0~9
                const idx = array.indexOf(input)
                if(idx==-1) {
                    array.push(input)
                    output+=input
                }
            }while(array.length<3)
        }

        cancle.addEventListener('click',
        function() {
            h1output.innerHTML=''       //ì§€ìš´ë‹¤.
            answer.innerHTML='ì •ë‹µì€?'  //ë‹¤ì‹œ ì •ë‹µì€? ìœ¼ë¡œ ê°€ë ¤ì£¼ëŠ”ê±°.
        })
        answer.addEventListener('click', function() {
            this.innerHTML = 'ì •ë‹µì€ ' + output
        })

        //3ê¸€ìë¥¼ ì…ë ¥ì•ˆí•˜ë©´ alert. 
        submit.addEventListener('click', function(){
            if(h1output.innerHTML.length!=3)
            {
                alert("3ê¸€ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.")
                return
            }
            count++ //ì‹œë„ íšŸìˆ˜
            if(output==h1output.innerHTML) //ì •ë‹µë§ì¶¤
            {
                count=0
                alert('ì •ë‹µ!')
                if(timecount<100)
                    alert("ì²œì¬")
                else
                    alert('ë³´í†µ')
                h3input.innerHTML=''        //ì´ˆê¸°í™”
                shuffleNewNumber() //ì •ë‹µ ë‹¤ì‹œ ë§Œë“¤ê¸°
                h1output.innerHTML=''
                answer.innerHTML='ì •ë‹µì€?'


                //íƒ€ì´ë¨¸ ë¦¬ì…‹
                timecount=0
                clearInterval(timeCountInterval) //ìœ„ì— setInterval ì„ ì—†ì• ì£¼ëŠ” clearInterval
                timeCountInterval = setInterval(    //ì‹œê°„ì„ ì¬ë ¤ë©´ ë‹¤ì‹œ ì‹œê°„ ì‹¤í–‰.
                    function() {
                        timecount++
                        time.innerHTML = timecount
                    },100
                )
              

            } else //ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš°
            {
                //ball, strike ê°œìˆ˜ë¥¼ ì„¼ë‹¤.
                let arr = [output[0], output[1], output[2]]
                let ball = 0
                let strike = 0
                //h1output : ë‚´ê°€ ì´ë²ˆì— ì‹œë„í•˜ëŠ” ìˆ«ì
                //h1output.innerHTML.length = 3 =arr.length
                for(let i = 0; i<h1output.innerHTML.length; i++)
                {
                    let test = arr.indexOf(h1output.innerHTML[i])
                    if(test!=-1) //h1outputì˜ ië²ˆì§¸ ê¸€ìê°€ ì •ë‹µì— í¬í•¨ëœ ê²½ìš°
                    {               //ì¦‰ ë‚´ê°€ ì •ë‹µì— í•´ë‹¹í•˜ëŠ” ìˆ«ìë¥¼ ë§ì¶˜ ê²ƒ
                                    //ë‹¤ë§Œ... ê·¸ê²Œ ìë¦¬ìˆ˜ê¹Œì§€ ë§ëŠ”ì§„ ëª°ë¼   
                                    //-1 ì¤‘ë³µì´ ì—†ë‹¤ëŠ” ê²ƒ.          
                        if(arr[i]==h1output.innerHTML[i])
                            strike++
                        else
                            ball++
                    }          
                }                

                //////////////////////////////////////////////////////////////////////////////////////////////////ì„¸ë£¡ì¬¬ã…‘ã…‡ ì˜íƒì˜¤ë¹ 
                //h1Tempì˜ ìš©ë„ : ë§¨ ë§ˆì§€ë§‰ì—
                //ì…ë ¥í•œ ê°’ í‘œì‹œ(9ë²ˆ ì‹œë„í•´ë„
                // ë‹¤ í‹€ë ¸ì„ ë•Œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹œë„í•œ ê°’ í‘œê¸°)
                let h1Temp = h1output.innerHTML
                
                //ball, strikeì— ë”°ë¥¸ ê²°ê³¼ í‘œì‹œ
                if(ball==0 && strike==0)
                {
                    h3input.innerHTML +=
                    '['+h1output.innerHTML+'] out<br>'
                    h1output.innerHTML=''
                }
                else {
                    h3input.innerHTML+='['+h1output.innerHTML+'] '
                    h3input.innerHTML+= strike+'S '+ball+'B<br>'
                    h1output.innerHTML=''
                }
                //countê°’ì— ë”°ë¥¸ css ë³€í™”
  				//ì •ë‹µ ì•„ë‹Œ ê±´ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë³€í•˜ê²Œ í•˜ê³ 
                //disableë˜ê²Œ í•  ê²ƒ
                if(count==3)
                {
                    let hintNum = Math.floor(Math.random()*10)
                    //arr ë°°ì—´ì— ìˆëŠ” ê±´ ë¬¸ì
                    //hintNum+'' í•´ì¤˜ì•¼ ë¬¸ìì—´ ì·¨ê¸‰ìœ¼ë¡œì¨ ë¹„êµ ê°€ëŠ¥
                    //ìˆ«ì €+ë¬¸ìì—´  = ë¬¸ìì—´ã„¹ '1', '2', '9' ë‹¤ ë¬¸ìì—´.
                    let checkNumber =arr.indexOf(hintNum+'')
                    while(checkNumber!=-1) //ì´ë¯¸ ìˆëŠ”ê±°ë©´
                    {
                        hintNum = Math.floor(Math.random()*10)
                        checkNumber = arr.indexOf(hintNum+'')
                    }
                    buttons[hintNum].style.color = 'red'
                    buttons[hintNum].disabled = true
                }

                /////////////////////////////////////////////////////////
                else if(count==5||count==7||count==8)
                {
                    let hintNum = Math.floor(Math.random()*10)
                    //arr ë°°ì—´ì— ìˆëŠ” ê±´ ë¬¸ì
                    //hintNum+'' í•´ì¤˜ì•¼ ë¬¸ìì—´ ì·¨ê¸‰ìœ¼ë¡œì¨ ë¹„êµ ê°€ëŠ¥
                    //ìˆ«ì €+ë¬¸ìì—´  = ë¬¸ìì—´ã„¹ '1', '2', '9' ë‹¤ ë¬¸ìì—´.
                    let checkNumber =arr.indexOf(hintNum+'')
                    while(checkNumber!=-1 
                            || buttons[hintNum].style.color!='') //ì´ë¯¸ ìˆëŠ”ê±°ë©´>> 0,123ì´ë©´ ê·¸ê±° ì „ë¶€ ì œì™¸í•´ì•¼í•¨.
                    {
                        hintNum = Math.floor(Math.random()*10)
                        checkNumber = arr.indexOf(hintNum+'')
                    }
                    buttons[hintNum].style.color = 'red'
                    buttons[hintNum].disabled = true
                }
				
			  //9ë²ˆ ì‹œë„í•´ë„ ì•ˆ ëì„ ê²½ìš°
                if(count>=9)
                {
                    count = 0
                    alert (
                        `ë§ˆì§€ë§‰ìœ¼ë¡œ ì…ë ¥í•œ ${h1Temp}ë„ ì •ë‹µì´` 
                        +` ì•„ë‹™ë‹ˆë‹¤. ì •ë‹µì€ ${output}ì…ë‹ˆë‹¤.`
                    )
                    h3input.innerHTML=''
                    shuffleNewNumber() //ì´ˆê¸°í™”
                    h1output.innerHTML=''
                    answer.innerHTML='ì •ë‹µì€?'
                    timecount=0
                    clearInterval(timeCountInterval)
                    timeCountInterval=setInterval(
                        function() {
                            timecount++
                            time.innerHTML=timecount
                        },100
                    )
                }


            }

        })
        //ë¹„ìš˜ë“œ ì»´í˜ì–´ f7 

        //         ì˜¤ë‹µì— ëŒ€í•´ì„œ

// 1. ì´ 9ë²ˆ ì‹œë„
// 2. ì •ë‹µì´ë‘ ìë¦¬ìˆ˜ê¹Œì§€ ë§ìœ¼ë©´ S
// ì •ë‹µ ê°’ì´ í¬í•¨ì€ ë˜ëŠ” ë° ìë¦¬ìˆ˜ê°€ ì•ˆ ë§ìœ¼ë©´ B
// ex) ì •ë‹µ 123    ë‚´ê°€ ì°ì€ ë‹µ 213 -> 1S 2B

// 3. 3,5,7,8ë²ˆì§¸ì— ì •ë‹µì´ ì•„ë‹Œ ê°’ì¤‘ í•˜ë‚˜ë¥¼ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë§Œë“¤ê³  ë¹„í™œì„±í™”ì‹œí‚¤ê¸°

// 4. ì •ë‹µì´ ì•„ë‹Œ ê°’ë“¤ ì…ë ¥í•  ë•Œë§ˆë‹¤ ì˜¤ë¥¸ìª½ ë¶€ë¶„(h3input)ì— í‘œê¸°
// [012] out
// [876] 0S 2B

// 5. 9ë²ˆì§¸ë„ í‹€ë¦¬ë©´ ëª¨ë‘ ë¦¬ì…‹í•˜ê³  í‹€ë ¸ë‹¤ê³  alertë„ìš°ê¸°(ì´ ë•Œ ì •ë‹µë„ ì•Œë ¤ì£¼ê¸°)

// 3ì‹œ 50ë¶„ê¹Œì§€ í’€ì–´ë³´ê¸°



    </script>
</body>
</html>